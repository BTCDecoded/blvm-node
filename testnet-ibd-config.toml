# Testnet IBD Configuration with Incremental Pruning
# Safer for testing than mainnet

[network]
network = "testnet"
listen_address = "0.0.0.0:18333"

[storage]
data_dir = "~/.local/share/blvm-testnet"

[storage.pruning]
# Pruning mode: normal (works without utxo-commitments)
[storage.pruning.mode]
type = "normal"
keep_from_height = 0
min_recent_blocks = 144      # Keep at least 144 blocks

# Enable incremental pruning during IBD (keeps storage bounded)
incremental_prune_during_ibd = true
prune_window_size = 144              # Keep last 144 blocks (~1 day)
min_blocks_for_incremental_prune = 288  # Start pruning after 288 blocks (~2 days)
auto_prune = true
auto_prune_interval = 144
min_blocks_to_keep = 144

[rpc]
enabled = true
listen_address = "127.0.0.1:18332"  # Testnet RPC port

[logging]
level = "info"  # Use "debug" for more detail during sync

